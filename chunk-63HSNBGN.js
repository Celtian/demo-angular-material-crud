import{a as rt}from"./chunk-AC6CPRHK.js";import{b as y,c as ft,d as xt,e as ht}from"./chunk-3YECUO2F.js";import{a as nt,c as dt}from"./chunk-5TGMQ7ED.js";import{a as V,c as at}from"./chunk-PZTICART.js";import{a as ot}from"./chunk-E2U656J4.js";import{A as et,B as it,c as P,e as Q,m as j,n as H,p as G,s as J,t as K,y as $,z as tt}from"./chunk-TLBZMRJU.js";import{a as pt,b as lt,c as ct,d as st,e as mt,f as ut}from"./chunk-XCTAKXKQ.js";import{$ as s,$a as g,Aa as t,Ab as C,Cb as l,Db as m,Eb as S,H as I,Jb as b,Kb as U,La as O,Lb as r,Mb as d,Q as M,Ra as B,ab as x,bb as h,ea as w,ed as q,fa as E,fb as v,fd as X,gb as n,hb as o,hd as W,ib as _,id as Y,jd as Z,ka as T,mb as R,ob as L,oc as z,pb as u,tb as N,ub as k,vb as F,xc as A}from"./chunk-ALM63E2Q.js";var vt=e=>[e],Ct=(e,a)=>[e,a];function _t(e,a){if(e&1){let i=R();n(0,"div",1)(1,"button",4),L("deleted",function(){w(i);let c=u(2);return E(c.onDeleted())}),l(2),r(3,"translate"),o(),n(4,"a",5),r(5,"localize"),l(6),r(7,"translate"),o()()}if(e&2){let i=u(2);t(),v("appPostDelete",i.dataSource.data().id),t(),S(" ",d(3,4,"uni.delete")," "),t(2),v("routerLink",b(10,vt,d(5,6,"/"+i.dataSource.data().id+"/"+i.ROUTE_DEFINITION.POSTS.EDIT))),t(2),m(d(7,8,"uni.edit"))}}function St(e,a){if(e&1&&(x(0,_t,8,12,"div",1),n(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),l(4),o(),n(5,"mat-card-title"),l(6),r(7,"uppercase"),o()(),n(8,"mat-card-content")(9,"p",2),l(10),r(11,"translate"),o(),n(12,"p"),l(13),o(),n(14,"p",2),l(15),r(16,"translate"),o(),_(17,"app-user-info",3),o()()),e&2){let i=u();h(i.dataSource.state()==="data"?0:-1),t(3),C("blur-sm",i.dataSource.state()==="loading"),t(),m("#"+i.dataSource.data().id),t(),C("blur-sm",i.dataSource.state()==="loading"),t(),m(d(7,18,i.dataSource.data().title)),t(3),C("blur-sm",i.dataSource.state()==="loading"),t(),S(" ",d(11,20,"post-detail.about-post")," "),t(2),C("blur-sm",i.dataSource.state()==="loading"),t(),S(" ",i.dataSource.data().body," "),t(),C("blur-sm",i.dataSource.state()==="loading"),t(),S(" ",d(16,22,"post-detail.about-author")," "),t(2),v("user",i.dataSource.data().user)("isLoading",i.dataSource.state()==="loading")}}function gt(e,a){if(e&1&&(n(0,"mat-card")(1,"mat-card-content",6),_(2,"mat-icon",7),r(3,"translate"),n(4,"div"),l(5),o()()()),e&2){let i=u();t(2),g("aria-label",d(3,2,"uni.aria-label.error-icon")),t(3),m(i.dataSource.error())}}function Pt(e,a){e&1&&(n(0,"mat-card")(1,"mat-card-content",6),_(2,"mat-icon",8),r(3,"translate"),n(4,"div"),l(5),r(6,"translate"),o()()()),e&2&&(t(2),g("aria-label",d(3,2,"uni.aria-label.warning-icon")),t(3),m(d(6,4,"error.post-was-not-found")))}function bt(e,a){if(e&1&&(_(0,"mat-icon",10),r(1,"translate"),n(2,"a",5),r(3,"localize"),l(4),o()),e&2){let i=u(2);g("aria-label",d(1,3,"uni.aria-label.arrow-icon")),t(2),v("routerLink",U(7,Ct,d(3,5,"/"),i.dataSource.data().id)),t(2),m(i.dataSource.data().id)}}function yt(e,a){if(e&1&&(n(0,"div",9)(1,"a",5),r(2,"localize"),l(3),r(4,"translate"),o(),x(5,bt,5,10),o()),e&2){let i=u();t(),v("routerLink",b(7,vt,d(2,3,"/"))),t(2),m(d(4,5,"breadcrumbs.app.posts")),t(2),h(i.dataSource.state()==="data"?5:-1)}}var ae=(()=>{let a=class a{constructor(){this.apiService=s(ot),this.route=s(G),this.translate=s(W),this.breadcrumbsPortalService=s(it),this.lr=s($),this.router=s(J),this.destroyRef=s(T),this.dataSource=new nt(y),this.ROUTE_DEFINITION=at}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),this.route.paramMap.pipe(I(500),xt(),ht(this.dataSource),ft(),M(p=>this.apiService.detailExpanded(Number(p))),V(this.destroyRef)).subscribe({next:p=>{this.dataSource.setData(p)},error:p=>{if(p instanceof A&&p.status>=400&&p.status<500)this.dataSource.setData(y);else{let c=this.translate.instant("error.unexpected-exception");this.dataSource.setError(c)}}})}onDeleted(){let p=this.lr.translateRoute("/");this.router.navigate([p])}};a.\u0275fac=function(c){return new(c||a)},a.\u0275cmp=O({type:a,selectors:[["app-post-detail"]],viewQuery:function(c,f){if(c&1&&N(P,7),c&2){let D;k(D=F())&&(f.portalContent=D.first)}},decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],[1,"flex","items-end","justify-end","gap-2"],[1,"mb-2","font-semibold","text-md"],[3,"user","isLoading"],["mat-button","","color","accent",3,"deleted","appPostDelete"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(c,f){c&1&&(x(0,St,18,24),x(1,gt,6,4,"mat-card"),x(2,Pt,7,6,"mat-card"),B(3,yt,6,9,"div",0)),c&2&&(h(f.dataSource.state()==="data"||f.dataSource.state()==="loading"?0:-1),t(),h(f.dataSource.state()==="error"?1:-1),t(),h(f.dataSource.state()==="empty"?2:-1))},dependencies:[z,ut,pt,ct,mt,st,lt,X,q,H,j,Q,P,Z,Y,rt,K,et,tt,dt],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let e=a;return e})();export{ae as PostDetailComponent};
