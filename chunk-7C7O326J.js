import{a as nt}from"./chunk-3VQAQPVN.js";import{b,c as mt,d as ut,e as ft}from"./chunk-SFQXS5TR.js";import{a as it,c as ot}from"./chunk-X5V6MQMF.js";import{a as A,c as et}from"./chunk-ZY2J36B7.js";import{a as at}from"./chunk-MYL67QTK.js";import{E as Q,F as V,H,K as X,L as G,Q as Y,R as Z,S as $,T as tt,c as S,e as z}from"./chunk-BBE74527.js";import{a as rt,b as dt,c as pt,d as lt,e as ct,f as st}from"./chunk-CLOESBL3.js";import{$ as c,Ab as u,G as D,Ga as e,Gc as U,Ib as R,Jb as L,Lb as C,Nb as d,Ob as s,P as I,Pb as _,Qc as j,Rc as q,Sa as E,Tc as J,Ub as P,Uc as K,Vb as N,Vc as W,Wb as o,Xb as r,Ya as T,ea as M,ec as k,fa as y,gb as g,hb as f,ib as x,ka as w,mb as h,nb as a,ob as n,pb as v,wb as O,xc as F,yb as B}from"./chunk-QYRILOQI.js";var xt=i=>[i],ht=(i,m)=>[i,m];function Ct(i,m){if(i&1){let t=O();a(0,"div",1)(1,"button",4),B("deleted",function(){M(t);let l=u(2);return y(l.onDeleted())}),d(2),o(3,"translate"),n(),a(4,"a",5),o(5,"localize"),d(6),o(7,"translate"),n()()}if(i&2){let t=u(2);e(),h("appPostDelete",t.dataSource.data().id),e(),_(" ",r(3,4,"uni.delete")," "),e(2),h("routerLink",P(10,xt,r(5,6,"/"+t.dataSource.data().id+"/"+t.ROUTE_DEFINITION.POSTS.EDIT))),e(2),s(r(7,8,"uni.edit"))}}function vt(i,m){if(i&1&&(f(0,Ct,8,12,"div",1),a(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),d(4),n(),a(5,"mat-card-title"),d(6),o(7,"uppercase"),n()(),a(8,"mat-card-content")(9,"p",2),d(10),o(11,"translate"),n(),a(12,"p"),d(13),n(),a(14,"p",2),d(15),o(16,"translate"),n(),v(17,"app-user-info",3),n()()),i&2){let t=u();x(t.dataSource.state()==="data"?0:-1),e(3),C("blur-sm",t.dataSource.state()==="loading"),e(),s("#"+t.dataSource.data().id),e(),C("blur-sm",t.dataSource.state()==="loading"),e(),s(r(7,18,t.dataSource.data().title)),e(3),C("blur-sm",t.dataSource.state()==="loading"),e(),_(" ",r(11,20,"post-detail.about-post")," "),e(2),C("blur-sm",t.dataSource.state()==="loading"),e(),_(" ",t.dataSource.data().body," "),e(),C("blur-sm",t.dataSource.state()==="loading"),e(),_(" ",r(16,22,"post-detail.about-author")," "),e(2),h("user",t.dataSource.data().user)("isLoading",t.dataSource.state()==="loading")}}function _t(i,m){if(i&1&&(a(0,"mat-card")(1,"mat-card-content",6),v(2,"mat-icon",7),o(3,"translate"),a(4,"div"),d(5),n()()()),i&2){let t=u();e(2),g("aria-label",r(3,2,"uni.aria-label.error-icon")),e(3),s(t.dataSource.error())}}function St(i,m){i&1&&(a(0,"mat-card")(1,"mat-card-content",6),v(2,"mat-icon",8),o(3,"translate"),a(4,"div"),d(5),o(6,"translate"),n()()()),i&2&&(e(2),g("aria-label",r(3,2,"uni.aria-label.warning-icon")),e(3),s(r(6,4,"error.post-was-not-found")))}function gt(i,m){if(i&1&&(v(0,"mat-icon",10),o(1,"translate"),a(2,"a",5),o(3,"localize"),d(4),n()),i&2){let t=u(2);g("aria-label",r(1,3,"uni.aria-label.arrow-icon")),e(2),h("routerLink",N(7,ht,r(3,5,"/"),t.dataSource.data().id)),e(2),s(t.dataSource.data().id)}}function Pt(i,m){if(i&1&&(a(0,"div",9)(1,"a",5),o(2,"localize"),d(3),o(4,"translate"),n(),f(5,gt,5,10),n()),i&2){let t=u();e(),h("routerLink",P(7,xt,r(2,3,"/"))),e(2),s(r(4,5,"breadcrumbs.app.posts")),e(2),x(t.dataSource.state()==="data"?5:-1)}}var te=(()=>{class i{constructor(){this.apiService=c(at),this.route=c(H),this.translate=c(J),this.breadcrumbsPortalService=c(tt),this.lr=c(Y),this.router=c(X),this.portalContent=k.required(S),this.destroyRef=c(w),this.dataSource=new it(b),this.ROUTE_DEFINITION=et}ngOnDestroy(){this.portalContent()?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent()),this.route.paramMap.pipe(D(500),ut(),ft(this.dataSource),mt(),I(t=>this.apiService.detailExpanded(Number(t))),A(this.destroyRef)).subscribe({next:t=>{this.dataSource.setData(t)},error:t=>{if(t instanceof U&&t.status>=400&&t.status<500)this.dataSource.setData(b);else{let p=this.translate.instant("error.unexpected-exception");this.dataSource.setError(p)}}})}onDeleted(){let t=this.lr.translateRoute("/");this.router.navigate([t])}static{this.\u0275fac=function(p){return new(p||i)}}static{this.\u0275cmp=E({type:i,selectors:[["app-post-detail"]],viewQuery:function(p,l){p&1&&R(l.portalContent,S,5),p&2&&L()},decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],[1,"flex","items-end","justify-end","gap-2"],[1,"mb-2","font-semibold","text-md"],[3,"user","isLoading"],["mat-button","","color","accent",3,"deleted","appPostDelete"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(p,l){p&1&&(f(0,vt,18,24),f(1,_t,6,4,"mat-card"),f(2,St,7,6,"mat-card"),T(3,Pt,6,9,"div",0)),p&2&&(x(l.dataSource.state()==="data"||l.dataSource.state()==="loading"?0:-1),e(),x(l.dataSource.state()==="error"?1:-1),e(),x(l.dataSource.state()==="empty"?2:-1))},dependencies:[st,rt,pt,ct,lt,dt,q,j,V,Q,z,S,W,nt,G,$,ot,F,K,Z],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media(min-width:640px){[_nghost-%COMP%]{max-width:640px}}@media(min-width:768px){[_nghost-%COMP%]{max-width:768px}}@media(min-width:1024px){[_nghost-%COMP%]{max-width:1024px}}@media(min-width:1280px){[_nghost-%COMP%]{max-width:1280px}}@media(min-width:1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0})}}return i})();export{te as PostDetailComponent};
