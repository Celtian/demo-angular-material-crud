"use strict";(self.webpackChunkdemo_angular_material_crud=self.webpackChunkdemo_angular_material_crud||[]).push([[757],{7757:(D,v,e)=>{e.r(v),e.d(v,{PostCreateComponent:()=>B});var f=e(8484),g=e(6814),t=e(5879),O=e(1993),o=e(6223),u=e(2296),n=e(5195),d=e(617),E=e(2032),m=e(2596),h=e(2787),a=e(8733),P=e(9515),r=e(1374),s=e(7919),p=e(4852),I=e(9209),x=e(5991),L=e(2939),Z=e(4310),R=e(6241),U=e(4170);function b(l,A){if(1&l){const c=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(c);const i=t.oxw();return t.KtG(i.form.controls.title.setValue(""))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"mat-icon"),t._uU(4,"close"),t.qZA()()}2&l&&(t.Q6J("matTooltip",t.lcZ(2,4,"UNI.clear")),t.uIk("aria-label",t.lcZ(1,2,"UNI.clear")))}function y(l,A){if(1&l){const c=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(c);const i=t.oxw();return t.KtG(i.form.controls.body.setValue(""))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"mat-icon"),t._uU(4,"close"),t.qZA()()}2&l&&(t.Q6J("matTooltip",t.lcZ(2,4,"UNI.clear")),t.uIk("aria-label",t.lcZ(1,2,"UNI.clear")))}const T=function(l){return[l]};function W(l,A){1&l&&(t.TgZ(0,"div",11)(1,"a",12),t.ALo(2,"localize"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"mat-icon",13),t.TgZ(6,"a",12),t.ALo(7,"localize"),t._uU(8),t.ALo(9,"translate"),t.qZA()()),2&l&&(t.xp6(1),t.Q6J("routerLink",t.VKq(12,T,t.lcZ(2,4,"/"))),t.xp6(2),t.Oqu(t.lcZ(4,6,"BREADCRUMBS.app.posts")),t.xp6(3),t.Q6J("routerLink",t.VKq(14,T,t.lcZ(7,8,"/create"))),t.xp6(2),t.Oqu(t.lcZ(9,10,"BREADCRUMBS.posts.create")))}let B=(()=>{class l{constructor(c,_,i,C,M,K,N,S,$,Y){this.apiService=c,this.breadcrumbsPortalService=_,this.fb=i,this.snackBar=C,this.router=M,this.lr=K,this.language=N,this.seoService=S,this.translate=$,this.confirm=Y,this.destroyRef=(0,t.f3M)(t.ktI),this.form=this.fb.group({title:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.min(3)]}),body:new o.NI("",{nonNullable:!0,validators:[o.kI.required,o.kI.min(3)]}),userId:new o.NI(1,{nonNullable:!0})})}canDeactivate(){return this.form.pristine||this.confirm.openCustomConfirmDialog(p.C.UnsavedWork)}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),this.language.language$.pipe((0,O.sL)(this.destroyRef)).subscribe(()=>{const c=this.lr.translateRoute(`/${s.R.POSTS.CREATE}`);this.seoService.setSeo({title:this.translate.instant(`SEO.${s.R.POSTS.CREATE}.title`),description:this.translate.instant(`SEO.${s.R.POSTS.CREATE}.description`)},c)})}ngOnDestroy(){this.portalContent?.detach()}onSubmit(){this.apiService.create(this.form.value).pipe((0,r.P)()).subscribe({next:c=>{this.form.reset(c),this.snackBar.open(this.translate.instant("response.create.success"),this.translate.instant("UNI.close"));const _=this.lr.translateRoute("/");this.router.navigate([_])},error:()=>{this.snackBar.open(this.translate.instant("response.create.failed"),this.translate.instant("UNI.close"))}})}onReset(c){c.preventDefault(),this.form.reset()}static#t=this.\u0275fac=function(_){return new(_||l)(t.Y36(I.s),t.Y36(x.H),t.Y36(o.qu),t.Y36(L.ux),t.Y36(h.F0),t.Y36(a.An),t.Y36(Z.T),t.Y36(R.v),t.Y36(P.sK),t.Y36(p.w))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-post-create"]],viewQuery:function(_,i){if(1&_&&t.Gf(f.ig,7),2&_){let C;t.iGM(C=t.CRH())&&(i.portalContent=C.first)}},standalone:!0,features:[t.jDz],decls:27,vars:21,consts:[[1,"flex","flex-col","gap-2","mt-2","text-center"],[3,"formGroup","ngSubmit","reset"],[1,"w-full"],["matInput","","type","text","formControlName","title"],["matSuffix","","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["matInput","","formControlName","body",3,"placeholder"],[1,"flex","justify-center","gap-2"],["mat-button","","color","primary","type","reset",3,"disabled"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["matSuffix","","mat-icon-button","",3,"matTooltip","click"],[1,"container","flex","items-center","gap-1","py-4"],["mat-button","","color","primary",3,"routerLink"],["aria-hidden","false","aria-label","Arrow icon","fontIcon","chevron_right"]],template:function(_,i){1&_&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content",0)(5,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()})("reset",function(M){return i.onReset(M)}),t.TgZ(6,"mat-form-field",2)(7,"mat-label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"input",3),t.YNc(11,b,5,6,"button",4),t.qZA(),t.TgZ(12,"mat-form-field",2)(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"textarea",5),t.ALo(17,"translate"),t.YNc(18,y,5,6,"button",4),t.qZA(),t.TgZ(19,"div",6)(20,"button",7),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"button",8),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()(),t.YNc(26,W,10,16,"div",9)),2&_&&(t.xp6(3),t.Oqu(i.form.controls.title.value),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(3),t.Oqu(t.lcZ(9,11,"form.post.title.label")),t.xp6(3),t.Q6J("ngIf",i.form.controls.title.value),t.xp6(3),t.Oqu(t.lcZ(15,13,"form.post.body.label")),t.xp6(2),t.Q6J("placeholder",t.lcZ(17,15,"form.post.body.placeholder")),t.xp6(2),t.Q6J("ngIf",i.form.controls.body.value),t.xp6(2),t.Q6J("disabled",i.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(22,17,"UNI.reset")," "),t.xp6(2),t.Q6J("disabled",i.form.pristine||i.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(25,19,"UNI.submit")," "))},dependencies:[g.ez,g.O5,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,n.QW,n.a8,n.dn,n.dk,n.n5,d.Ps,d.Hw,E.c,E.Nt,U.KE,U.hX,U.R9,u.ot,u.zs,u.lW,u.RK,m.AV,m.gM,f.eL,f.ig,P.aw,P.X$,h.Bz,h.rH,a.fQ,a.lO],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0})}return l})()},9209:(D,v,e)=>{e.d(v,{s:()=>O});var f=e(7398),g=e(5879),t=e(9862);let O=(()=>{class o{constructor(n){this.http=n,this.apiUrl="https://jsonplaceholder.typicode.com"}list(n=1,d=5,E="id",m="asc",h=""){const a=[`_limit=${d}`,`_sort=${E}`,`_order=${m}`];return n>0&&a.push(`_page=${n}`),h&&a.push(`title_like=${h}`),this.http.get(`${this.apiUrl}/posts?${a.join("&")}`,{observe:"response"}).pipe((0,f.U)(P=>({totalCount:Number(P.headers.get("x-total-count"))||0,items:P.body||[]})))}detail(n){return this.http.get(`${this.apiUrl}/posts/${n}`)}delete(n){return this.http.delete(`${this.apiUrl}/posts/${n}`)}patch(n,d){return this.http.patch(`${this.apiUrl}/posts/${n}`,d)}create(n){return this.http.post(`${this.apiUrl}/posts`,n)}detailExpanded(n){return this.http.get(`${this.apiUrl}/posts/${n}?_expand=user`)}user(n){return this.http.get(`${this.apiUrl}/users/${n}`)}static#t=this.\u0275fac=function(d){return new(d||o)(g.LFG(t.eN))};static#e=this.\u0275prov=g.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},4852:(D,v,e)=>{e.d(v,{C:()=>m,w:()=>h});var f=e(1374),g=e(7398),t=e(5879),O=e(6814),o=e(2296),u=e(7700),n=e(9515);let d=(()=>{class a{constructor(r,s){this.data=r,this.dialogRef=s}static#t=this.\u0275fac=function(s){return new(s||a)(t.Y36(u.WI),t.Y36(u.so))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-confirm-dialog"]],standalone:!0,features:[t.jDz],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(s,p){1&s&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t._uU(3),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t._uU(9),t.ALo(10,"translate"),t.qZA()()),2&s&&(t.xp6(1),t.Oqu(p.data.title),t.xp6(2),t.Oqu(p.data.content),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.Oqu(t.lcZ(7,6,"UNI.no")),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.Oqu(t.lcZ(10,8,"UNI.yes")))},dependencies:[O.ez,u.Is,u.ZT,u.uh,u.xY,u.H8,o.ot,o.lW,n.aw,n.X$],changeDetection:0})}return a})(),E=(()=>{class a{constructor(r){this.dialog=r}open(r,s){return this.dialog.open(d,{width:"sm",data:{title:r,content:s}}).afterClosed()}static#t=this.\u0275fac=function(s){return new(s||a)(t.LFG(u.uw))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var m=function(a){return a[a.Delete=0]="Delete",a[a.UnsavedWork=1]="UnsavedWork",a}(m||{});let h=(()=>{class a{constructor(r,s){this.confirm=r,this.translate=s}openCustomConfirmDialog(r){const s=this.getTitle(r),p=this.getContent(r);return this.open(s,p)}getTitle(r){switch(r){case m.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case m.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(r){switch(r){case m.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case m.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(r,s){return this.confirm.open(r,s).pipe((0,f.P)(),(0,g.U)(p=>!!p))}static#t=this.\u0275fac=function(s){return new(s||a)(t.LFG(E),t.LFG(n.sK))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);