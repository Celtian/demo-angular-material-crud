import{a as dt}from"./chunk-ZFHCA4HY.js";import{b as I,c as xt,d as vt,e as ht}from"./chunk-7V4EDJNO.js";import{a as ot,c as pt}from"./chunk-2XQC3QT6.js";import{a as Q,c as nt}from"./chunk-UWRMZMEP.js";import{a as rt}from"./chunk-22SHOGNK.js";import{c as P,e as A,f as V,g as H,i as q,k as J,n as K,o as W,t as tt,u as et,v as it,w as at}from"./chunk-CF2SFLYO.js";import{a as ct,b as lt,c as st,d as mt,e as ut,f as ft}from"./chunk-MHCCLBNY.js";import{Ab as k,Ad as $,Eb as p,Fb as l,Gb as _,Jb as F,K as D,Ka as e,La as m,Lb as b,Mb as j,Nb as o,Ob as r,U as M,Za as S,ab as g,bb as f,cb as x,ea as y,fb as v,ha as w,jb as a,kb as n,lb as h,pb as B,qc as U,ra as E,sa as T,sb as R,ub as u,vc as z,vd as X,wd as G,ya as O,yb as L,yd as Y,zb as N,zd as Z}from"./chunk-K4YFR4U3.js";var _t=i=>[i],gt=(i,s)=>[i,s];function Pt(i,s){if(i&1){let t=B();a(0,"div",1)(1,"button",4),R("deleted",function(){E(t);let c=u(2);return T(c.onDeleted())}),p(2),o(3,"translate"),n(),a(4,"a",5),o(5,"localize"),p(6),o(7,"translate"),n()()}if(i&2){let t=u(2);e(),f("appPostDelete",t.dataSource.data().id),e(),_(" ",r(3,4,"uni.delete")," "),e(2),f("routerLink",b(10,_t,r(5,6,"/"+t.dataSource.data().id+"/"+t.ROUTE_DEFINITION.POSTS.EDIT))),e(2),l(r(7,8,"uni.edit"))}}function bt(i,s){if(i&1&&(S(0,Pt,8,12,"div",1),a(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),p(4),n(),a(5,"mat-card-title"),p(6),o(7,"uppercase"),n()(),a(8,"mat-card-content")(9,"p",2),p(10),o(11,"translate"),n(),a(12,"p"),p(13),n(),a(14,"p",2),p(15),o(16,"translate"),n(),h(17,"app-user-info",3),n()()),i&2){let t=u();v(t.dataSource.state()==="data"?0:-1),e(3),x("blur-sm",t.dataSource.state()==="loading"),e(),l("#"+t.dataSource.data().id),e(),x("blur-sm",t.dataSource.state()==="loading"),e(),l(r(7,18,t.dataSource.data().title)),e(3),x("blur-sm",t.dataSource.state()==="loading"),e(),_(" ",r(11,20,"post-detail.about-post")," "),e(2),x("blur-sm",t.dataSource.state()==="loading"),e(),_(" ",t.dataSource.data().body," "),e(),x("blur-sm",t.dataSource.state()==="loading"),e(),_(" ",r(16,22,"post-detail.about-author")," "),e(2),f("user",t.dataSource.data().user)("isLoading",t.dataSource.state()==="loading")}}function It(i,s){if(i&1&&(a(0,"mat-card")(1,"mat-card-content",6),h(2,"mat-icon",7),o(3,"translate"),a(4,"div"),p(5),n()()()),i&2){let t=u();e(2),g("aria-label",r(3,2,"uni.aria-label.error-icon")),e(3),l(t.dataSource.error())}}function Dt(i,s){i&1&&(a(0,"mat-card")(1,"mat-card-content",6),h(2,"mat-icon",8),o(3,"translate"),a(4,"div"),p(5),o(6,"translate"),n()()()),i&2&&(e(2),g("aria-label",r(3,2,"uni.aria-label.warning-icon")),e(3),l(r(6,4,"error.post-was-not-found")))}function Mt(i,s){if(i&1&&(h(0,"mat-icon",10),o(1,"translate"),a(2,"a",5),o(3,"localize"),p(4),n()),i&2){let t=u(2);g("aria-label",r(1,3,"uni.aria-label.arrow-icon")),e(2),f("routerLink",j(7,gt,r(3,5,"/"),t.dataSource.data().id)),e(2),l(t.dataSource.data().id)}}function yt(i,s){if(i&1&&(a(0,"div",9)(1,"a",5),o(2,"localize"),p(3),o(4,"translate"),n(),S(5,Mt,5,10),n()),i&2){let t=u();e(),f("routerLink",b(7,_t,r(2,3,"/"))),e(2),l(r(4,5,"breadcrumbs.app.posts")),e(2),v(t.dataSource.state()==="data"?5:-1)}}var de=(()=>{class i{constructor(t,d,c,C,Ct,St){this.apiService=t,this.route=d,this.translate=c,this.breadcrumbsPortalService=C,this.lr=Ct,this.router=St,this.destroyRef=y(O),this.dataSource=new ot(I),this.ROUTE_DEFINITION=nt}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),this.route.paramMap.pipe(D(500),vt(),ht(this.dataSource),xt(),M(t=>this.apiService.detailExpanded(Number(t))),Q(this.destroyRef)).subscribe({next:t=>{this.dataSource.setData(t)},error:t=>{if(t instanceof z&&t.status>=400&&t.status<500)this.dataSource.setData(I);else{let d=this.translate.instant("error.unexpected-exception");this.dataSource.setError(d)}}})}onDeleted(){let t=this.lr.translateRoute("/");this.router.navigate([t])}static{this.\u0275fac=function(d){return new(d||i)(m(rt),m(J),m(Y),m(at),m(tt),m(K))}}static{this.\u0275cmp=w({type:i,selectors:[["app-post-detail"]],viewQuery:function(d,c){if(d&1&&L(P,7),d&2){let C;N(C=k())&&(c.portalContent=C.first)}},standalone:!0,features:[F],decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],[1,"flex","items-end","justify-end","gap-2"],[1,"mb-2","font-semibold","text-md"],[3,"user","isLoading"],["mat-button","","color","accent",3,"deleted","appPostDelete"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(d,c){d&1&&S(0,bt,18,24,"mat-card")(1,It,6,4,"mat-card")(2,Dt,7,6,"mat-card")(3,yt,6,9,"div",0),d&2&&(v(c.dataSource.state()==="data"||c.dataSource.state()==="loading"?0:-1),e(),v(c.dataSource.state()==="error"?1:-1),e(),v(c.dataSource.state()==="empty"?2:-1))},dependencies:[U,ft,ct,st,ut,mt,lt,G,X,q,H,V,A,P,$,Z,dt,W,it,et,pt],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0})}}return i})();export{de as PostDetailComponent};
