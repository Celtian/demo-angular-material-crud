"use strict";(self.webpackChunkdemo_angular_material_crud=self.webpackChunkdemo_angular_material_crud||[]).push([[757],{7757:(M,C,e)=>{e.r(C),e.d(C,{PostCreateComponent:()=>W});var f=e(8484),g=e(6814),t=e(5879),O=e(1993),r=e(6223),m=e(2296),o=e(5195),d=e(617),E=e(2032),_=e(2596),h=e(2787),a=e(8733),u=e(2800),n=e(1374),l=e(7919),v=e(4852),T=e(9209),I=e(5991),x=e(2939),L=e(4310),Z=e(6241),D=e(4170);function R(c,P){if(1&c){const s=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(s);const p=t.oxw();return t.KtG(p.form.controls.title.setValue(""))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"mat-icon"),t._uU(4,"close"),t.qZA()()}2&c&&(t.Q6J("matTooltip",t.lcZ(2,4,"UNI.clear")),t.uIk("aria-label",t.lcZ(1,2,"UNI.clear")))}function b(c,P){if(1&c){const s=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(s);const p=t.oxw();return t.KtG(p.form.controls.body.setValue(""))}),t.ALo(1,"translate"),t.ALo(2,"translate"),t.TgZ(3,"mat-icon"),t._uU(4,"close"),t.qZA()()}2&c&&(t.Q6J("matTooltip",t.lcZ(2,4,"UNI.clear")),t.uIk("aria-label",t.lcZ(1,2,"UNI.clear")))}const A=function(c){return[c]};function y(c,P){1&c&&(t.TgZ(0,"div",11)(1,"a",12),t.ALo(2,"localize"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"mat-icon",13),t.TgZ(6,"a",12),t.ALo(7,"localize"),t._uU(8),t.ALo(9,"translate"),t.qZA()()),2&c&&(t.xp6(1),t.Q6J("routerLink",t.VKq(12,A,t.lcZ(2,4,"/"))),t.xp6(2),t.Oqu(t.lcZ(4,6,"BREADCRUMBS.app.posts")),t.xp6(3),t.Q6J("routerLink",t.VKq(14,A,t.lcZ(7,8,"/create"))),t.xp6(2),t.Oqu(t.lcZ(9,10,"BREADCRUMBS.posts.create")))}let W=(()=>{class c{constructor(s,i,p,U,B,K,S,N,$,Y){this.apiService=s,this.breadcrumbsPortalService=i,this.fb=p,this.snackBar=U,this.router=B,this.lr=K,this.language=S,this.seoService=N,this.translate=$,this.confirm=Y,this.destroyRef=(0,t.f3M)(t.ktI),this.form=this.fb.group({title:new r.NI("",{nonNullable:!0,validators:[r.kI.required,r.kI.min(3)]}),body:new r.NI("",{nonNullable:!0,validators:[r.kI.required,r.kI.min(3)]}),userId:new r.NI(1,{nonNullable:!0})})}canDeactivate(){return this.form.pristine||this.confirm.openCustomConfirmDialog(v.C.UnsavedWork)}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),this.language.language$.pipe((0,O.sL)(this.destroyRef)).subscribe(()=>{const s=this.lr.translateRoute(`/${l.R.POSTS.CREATE}`);this.seoService.setSeo({title:this.translate.instant(`SEO.${l.R.POSTS.CREATE}.title`),description:this.translate.instant(`SEO.${l.R.POSTS.CREATE}.description`)},s)})}ngOnDestroy(){this.portalContent?.detach()}onSubmit(){this.apiService.create(this.form.value).pipe((0,n.P)()).subscribe({next:s=>{this.form.reset(s),this.snackBar.open(this.translate.instant("response.create.success"),this.translate.instant("UNI.close"));const i=this.lr.translateRoute("/");this.router.navigate([i])},error:()=>{this.snackBar.open(this.translate.instant("response.create.failed"),this.translate.instant("UNI.close"))}})}onReset(s){s.preventDefault(),this.form.reset()}}return c.\u0275fac=function(s){return new(s||c)(t.Y36(T.s),t.Y36(I.H),t.Y36(r.qu),t.Y36(x.ux),t.Y36(h.F0),t.Y36(a.An),t.Y36(L.T),t.Y36(Z.v),t.Y36(u.sK),t.Y36(v.w))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-post-create"]],viewQuery:function(s,i){if(1&s&&t.Gf(f.ig,7),2&s){let p;t.iGM(p=t.CRH())&&(i.portalContent=p.first)}},standalone:!0,features:[t.jDz],decls:27,vars:21,consts:[[1,"flex","flex-col","gap-2","mt-2","text-center"],[3,"formGroup","ngSubmit","reset"],[1,"w-full"],["matInput","","type","text","formControlName","title"],["matSuffix","","mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["matInput","","formControlName","body",3,"placeholder"],[1,"flex","justify-center","gap-2"],["mat-button","","color","primary","type","reset",3,"disabled"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["matSuffix","","mat-icon-button","",3,"matTooltip","click"],[1,"container","flex","items-center","gap-1","py-4"],["mat-button","","color","primary",3,"routerLink"],["aria-hidden","false","aria-label","Arrow icon","fontIcon","chevron_right"]],template:function(s,i){1&s&&(t.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA()(),t.TgZ(4,"mat-card-content",0)(5,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()})("reset",function(U){return i.onReset(U)}),t.TgZ(6,"mat-form-field",2)(7,"mat-label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"input",3),t.YNc(11,R,5,6,"button",4),t.qZA(),t.TgZ(12,"mat-form-field",2)(13,"mat-label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t._UZ(16,"textarea",5),t.ALo(17,"translate"),t.YNc(18,b,5,6,"button",4),t.qZA(),t.TgZ(19,"div",6)(20,"button",7),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"button",8),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()(),t.YNc(26,y,10,16,"div",9)),2&s&&(t.xp6(3),t.Oqu(i.form.controls.title.value),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(3),t.Oqu(t.lcZ(9,11,"form.post.title.label")),t.xp6(3),t.Q6J("ngIf",i.form.controls.title.value),t.xp6(3),t.Oqu(t.lcZ(15,13,"form.post.body.label")),t.xp6(2),t.Q6J("placeholder",t.lcZ(17,15,"form.post.body.placeholder")),t.xp6(2),t.Q6J("ngIf",i.form.controls.body.value),t.xp6(2),t.Q6J("disabled",i.form.pristine),t.xp6(1),t.hij(" ",t.lcZ(22,17,"UNI.reset")," "),t.xp6(2),t.Q6J("disabled",i.form.pristine||i.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(25,19,"UNI.submit")," "))},dependencies:[g.ez,g.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,o.QW,o.a8,o.dn,o.dk,o.n5,d.Ps,d.Hw,E.c,E.Nt,D.KE,D.hX,D.R9,m.ot,m.zs,m.lW,m.RK,_.AV,_.gM,f.eL,f.ig,u.aw,u.X$,h.Bz,h.rH,a.fQ,a.lO],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0}),c})()},9209:(M,C,e)=>{e.d(C,{s:()=>O});var f=e(7398),g=e(5879),t=e(9862);let O=(()=>{class r{constructor(o){this.http=o,this.apiUrl="https://jsonplaceholder.typicode.com"}list(o=1,d=5,E="id",_="asc",h=""){const a=[`_limit=${d}`,`_sort=${E}`,`_order=${_}`];return o>0&&a.push(`_page=${o}`),h&&a.push(`title_like=${h}`),this.http.get(`${this.apiUrl}/posts?${a.join("&")}`,{observe:"response"}).pipe((0,f.U)(u=>({totalCount:Number(u.headers.get("x-total-count"))||0,items:u.body||[]})))}detail(o){return this.http.get(`${this.apiUrl}/posts/${o}`)}delete(o){return this.http.delete(`${this.apiUrl}/posts/${o}`)}patch(o,d){return this.http.patch(`${this.apiUrl}/posts/${o}`,d)}create(o){return this.http.post(`${this.apiUrl}/posts`,o)}detailExpanded(o){return this.http.get(`${this.apiUrl}/posts/${o}?_expand=user`)}user(o){return this.http.get(`${this.apiUrl}/users/${o}`)}}return r.\u0275fac=function(o){return new(o||r)(g.LFG(t.eN))},r.\u0275prov=g.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},4852:(M,C,e)=>{e.d(C,{C:()=>_,w:()=>h});var f=e(1374),g=e(7398),t=e(5879),O=e(6814),r=e(2296),m=e(7700),o=e(2800);let d=(()=>{class a{constructor(n,l){this.data=n,this.dialogRef=l}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(m.WI),t.Y36(m.so))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-confirm-dialog"]],standalone:!0,features:[t.jDz],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(n,l){1&n&&(t.TgZ(0,"h1",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t._uU(3),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t._uU(9),t.ALo(10,"translate"),t.qZA()()),2&n&&(t.xp6(1),t.Oqu(l.data.title),t.xp6(2),t.Oqu(l.data.content),t.xp6(2),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.Oqu(t.lcZ(7,6,"UNI.no")),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.Oqu(t.lcZ(10,8,"UNI.yes")))},dependencies:[O.ez,m.Is,m.ZT,m.uh,m.xY,m.H8,r.ot,r.lW,o.aw,o.X$],changeDetection:0}),a})(),E=(()=>{class a{constructor(n){this.dialog=n}open(n,l){return this.dialog.open(d,{width:"sm",data:{title:n,content:l}}).afterClosed()}}return a.\u0275fac=function(n){return new(n||a)(t.LFG(m.uw))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var _=function(a){return a[a.Delete=0]="Delete",a[a.UnsavedWork=1]="UnsavedWork",a}(_||{});let h=(()=>{class a{constructor(n,l){this.confirm=n,this.translate=l}openCustomConfirmDialog(n){const l=this.getTitle(n),v=this.getContent(n);return this.open(l,v)}getTitle(n){switch(n){case _.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case _.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(n){switch(n){case _.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case _.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(n,l){return this.confirm.open(n,l).pipe((0,f.P)(),(0,g.U)(v=>!!v))}}return a.\u0275fac=function(n){return new(n||a)(t.LFG(E),t.LFG(o.sK))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);