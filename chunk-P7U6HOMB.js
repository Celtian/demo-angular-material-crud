import{a as rt}from"./chunk-5HQHU7UC.js";import{b,c as xt,d as ht,e as vt}from"./chunk-MSEDY6V4.js";import{a as ot,c as ct}from"./chunk-EKTO24Y7.js";import{a as Q,b as nt}from"./chunk-4X2RJJTX.js";import{a as dt}from"./chunk-RD253M3T.js";import{c as P,e as A,f as V,g as H,i as q,k as G,n as J,o as K,t as tt,u as et,v as it,w as at}from"./chunk-U4UMJC4W.js";import{a as pt,b as lt,c as st,d as mt,e as ut,f as ft}from"./chunk-STS6MU2S.js";import{Ab as I,Ad as Z,Bb as N,Bd as $,Cb as p,Db as l,Ga as e,Ha as u,Hb as k,Ib as j,J as y,Ka as O,Kb as F,Sa as x,T as M,Ua as h,Ya as g,Za as v,bb as o,cb as r,da as D,db as _,ea as E,gc as U,hb as R,ja as w,ka as T,lb as B,lc as z,nb as f,rb as c,sb as m,tb as S,wd as W,xd as X,yb as L,zd as Y}from"./chunk-6V6PCDCB.js";var _t=t=>[t];function gt(t,n){if(t&1){let i=R();o(0,"div",4)(1,"button",5),B("deleted",function(){w(i);let d=f(2);return T(d.onDeleted())}),c(2),p(3,"translate"),r(),o(4,"a",6),p(5,"localize"),c(6),p(7,"translate"),r()()}if(t&2){let i=f(2);e(1),x("appPostDelete",i.dataSource.data().id),e(1),S(" ",l(3,4,"uni.delete")," "),e(2),x("routerLink",I(10,_t,l(5,6,"/"+i.dataSource.data().id+"/"+i.ROUTE_DEFINITION.POSTS.EDIT))),e(2),m(l(7,8,"uni.edit"))}}function Pt(t,n){if(t&1&&(g(0,gt,8,12,"div",1),o(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),c(4),r(),o(5,"mat-card-title"),c(6),p(7,"uppercase"),r()(),o(8,"mat-card-content")(9,"p",2),c(10),p(11,"translate"),r(),o(12,"p"),c(13),r(),o(14,"p",2),c(15),p(16,"translate"),r(),_(17,"app-user-info",3),r()()),t&2){let i=f();v(0,i.dataSource.state()==="data"?0:-1),e(3),h("blur-sm",i.dataSource.state()==="loading"),e(1),m("#"+i.dataSource.data().id),e(1),h("blur-sm",i.dataSource.state()==="loading"),e(1),m(l(7,18,i.dataSource.data().title)),e(3),h("blur-sm",i.dataSource.state()==="loading"),e(1),S(" ",l(11,20,"post-detail.about-post")," "),e(2),h("blur-sm",i.dataSource.state()==="loading"),e(1),S(" ",i.dataSource.data().body," "),e(1),h("blur-sm",i.dataSource.state()==="loading"),e(1),S(" ",l(16,22,"post-detail.about-author")," "),e(2),x("user",i.dataSource.data().user)("isLoading",i.dataSource.state()==="loading")}}function It(t,n){if(t&1&&(o(0,"mat-card")(1,"mat-card-content",7),_(2,"mat-icon",8),o(3,"div"),c(4),r()()()),t&2){let i=f();e(4),m(i.dataSource.error())}}function bt(t,n){t&1&&(o(0,"mat-card")(1,"mat-card-content",7),_(2,"mat-icon",9),o(3,"div"),c(4),p(5,"translate"),r()()()),t&2&&(e(4),m(l(5,1,"error.post-was-not-found")))}var yt=(t,n)=>[t,n];function Mt(t,n){if(t&1&&(_(0,"mat-icon",11),o(1,"a",6),p(2,"localize"),c(3),r()),t&2){let i=f(2);e(1),x("routerLink",N(4,yt,l(2,2,"/"),i.dataSource.data().id)),e(2),m(i.dataSource.data().id)}}function Dt(t,n){if(t&1&&(o(0,"div",10)(1,"a",6),p(2,"localize"),c(3),p(4,"translate"),r(),g(5,Mt,4,7),r()),t&2){let i=f();e(1),x("routerLink",I(7,_t,l(2,3,"/"))),e(2),m(l(4,5,"breadcrumbs.app.posts")),e(2),v(5,i.dataSource.state()==="data"?5:-1)}}var de=(()=>{let n=class n{constructor(a,d,s,C,St,Ct){this.apiService=a,this.route=d,this.translate=s,this.breadcrumbsPortalService=C,this.lr=St,this.router=Ct,this.destroyRef=D(O),this.dataSource=new ot(b),this.ROUTE_DEFINITION=nt}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),this.route.paramMap.pipe(y(500),ht(),vt(this.dataSource),xt(),M(a=>this.apiService.detailExpanded(Number(a))),Q(this.destroyRef)).subscribe({next:a=>{this.dataSource.setData(a)},error:a=>{if(a instanceof z&&a.status>=400&&a.status<500)this.dataSource.setData(b);else{let d=this.translate.instant("error.unexpected-exception");this.dataSource.setError(d)}}})}onDeleted(){let a=this.lr.translateRoute("/");this.router.navigate([a])}};n.\u0275fac=function(d){return new(d||n)(u(dt),u(G),u(Y),u(at),u(tt),u(J))},n.\u0275cmp=E({type:n,selectors:[["app-post-detail"]],viewQuery:function(d,s){if(d&1&&j(P,7),d&2){let C;k(C=F())&&(s.portalContent=C.first)}},standalone:!0,features:[L],decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["class","flex items-end justify-end gap-2"],[1,"mb-2","font-semibold","text-md"],[3,"user","isLoading"],[1,"flex","items-end","justify-end","gap-2"],["mat-button","","color","accent",3,"appPostDelete","deleted"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","aria-label","Error icon","fontIcon","error"],["aria-hidden","false","aria-label","Warning icon","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","aria-label","Arrow icon","fontIcon","chevron_right"]],template:function(d,s){d&1&&g(0,Pt,18,24,"mat-card")(1,It,5,1,"mat-card")(2,bt,6,3,"mat-card")(3,Dt,6,9,"div",0),d&2&&(v(0,s.dataSource.state()==="data"||s.dataSource.state()==="loading"?0:-1),e(1),v(1,s.dataSource.state()==="error"?1:-1),e(1),v(2,s.dataSource.state()==="empty"?2:-1))},dependencies:[U,ft,pt,st,ut,mt,lt,X,W,q,H,V,A,P,$,Z,rt,K,it,et,ct],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let t=n;return t})();export{de as PostDetailComponent};
