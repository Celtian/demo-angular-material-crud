<ng-container *ngIf="dataSource.state === 'data' || dataSource.state === 'loading'">
  <div *ngIf="dataSource.state === 'data'" class="flex items-end justify-end gap-2">
    <button mat-button color="accent" (click)="onDelete()">{{ 'UNI.delete' | translate }}</button>
    <a mat-button color="primary" [routerLink]="['/' + dataSource.data.id + '/' + ROUTES.POSTS.EDIT | localize]">{{
      'UNI.edit' | translate
    }}</a>
  </div>
  <mat-card>
    <mat-card-header>
      <mat-card-subtitle [class.blur-sm]="dataSource.state === 'loading'">{{
        '#' + dataSource.data.id
      }}</mat-card-subtitle>
      <mat-card-title [class.blur-sm]="dataSource.state === 'loading'">{{
        dataSource.data.title | uppercase
      }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p class="mb-2 font-semibold text-md" [class.blur-sm]="dataSource.state === 'loading'">
        {{ 'post-detail.about-post' | translate }}
      </p>

      <p [class.blur-sm]="dataSource.state === 'loading'">
        {{ dataSource.data.body }}
      </p>

      <p class="mb-2 font-semibold text-md" [class.blur-sm]="dataSource.state === 'loading'">
        {{ 'post-detail.about-author' | translate }}
      </p>

      <table class="w-full" [class.blur-sm]="dataSource.state === 'loading'">
        <colgroup>
          <col width="150" />
          <col />
        </colgroup>
        <tbody *ngIf="dataSource.data.user">
          <tr>
            <td class="font-bold">{{ 'post-detail.user.id' | translate }}</td>
            <td>{{ '#' + dataSource.data.user.id }}</td>
          </tr>
          <tr>
            <td class="font-bold">{{ 'post-detail.user.name' | translate }}</td>
            <td>{{ dataSource.data.user.name }}</td>
          </tr>
          <tr>
            <td class="font-bold">{{ 'post-detail.user.username' | translate }}</td>
            <td>{{ dataSource.data.user.username }}</td>
          </tr>
          <tr>
            <td class="font-bold">{{ 'post-detail.user.email' | translate }}</td>
            <td>{{ dataSource.data.user.email }}</td>
          </tr>
          <tr>
            <td class="font-bold">{{ 'post-detail.user.phone' | translate }}</td>
            <td>{{ dataSource.data.user.phone }}</td>
          </tr>
          <tr>
            <td class="font-bold">{{ 'post-detail.user.website' | translate }}</td>
            <td>{{ dataSource.data.user.website }}</td>
          </tr>
          <tr *ngIf="dataSource.data.user.address" class="align-baseline">
            <td class="font-bold">{{ 'post-detail.user.address' | translate }}</td>
            <td>
              <div>{{ dataSource.data.user.address.street }}</div>
              <div>{{ dataSource.data.user.address.suite }}</div>
              <div>{{ dataSource.data.user.address.city }}</div>
              <div>{{ dataSource.data.user.address.zipcode }}</div>
              <div>{{ dataSource.data.user.address.geo.lat }}, {{ dataSource.data.user.address.geo.lng }}</div>
            </td>
          </tr>
          <tr *ngIf="dataSource.data.user.company" class="align-baseline">
            <td class="font-bold">{{ 'post-detail.user.company' | translate }}</td>
            <td>
              <div>{{ dataSource.data.user.company.name }}</div>
              <div>{{ dataSource.data.user.company.catchPhrase }}</div>
              <div>{{ dataSource.data.user.company.bs }}</div>
            </td>
          </tr>
        </tbody>
      </table>
    </mat-card-content>
  </mat-card>
</ng-container>

<ng-container *ngIf="dataSource.state === 'error'">
  <mat-card>
    <mat-card-content class="flex flex-col gap-2 text-center">
      <mat-icon aria-hidden="false" aria-label="Error icon" fontIcon="error"></mat-icon>
      <div>{{ dataSource.error }}</div>
    </mat-card-content>
  </mat-card>
</ng-container>

<ng-container *ngIf="dataSource.state === 'empty'">
  <mat-card>
    <mat-card-content class="flex flex-col gap-2 text-center">
      <mat-icon aria-hidden="false" aria-label="Warning icon" fontIcon="warning"></mat-icon>
      <div>{{ 'ERROR.post-was-not-found' | translate }}</div>
    </mat-card-content>
  </mat-card>
</ng-container>

<div *cdkPortal class="container flex items-center gap-1 py-4">
  <a mat-button color="primary" [routerLink]="['/' | localize]">{{ 'BREADCRUBMS.app.posts' | translate }}</a>
  <ng-container *ngIf="dataSource.state === 'data'">
    <mat-icon aria-hidden="false" aria-label="Arrow icon" fontIcon="chevron_right"></mat-icon>
    <a mat-button color="primary" [routerLink]="['/' | localize, dataSource.data.id]">{{ dataSource.data.id }}</a>
  </ng-container>
</div>
