import{a as rt}from"./chunk-UBJCV52J.js";import{b as I,c as ft,d as xt,e as vt}from"./chunk-4FDKXLND.js";import{a as nt,c as dt}from"./chunk-Y2LEDE5B.js";import{a as A,c as at}from"./chunk-IKNXHZOP.js";import{a as ot}from"./chunk-L3FIZIN4.js";import{c as P,e as z,f as Q,g as V,i as H,k as G,n as J,o as K,t as $,u as tt,v as et,w as it}from"./chunk-TOUFPKZ6.js";import{a as pt,b as ct,c as lt,d as st,e as mt,f as ut}from"./chunk-WX7E4BKF.js";import{Bd as W,Cb as L,Cd as Y,Db as N,Dd as Z,Eb as k,H as D,Ia as e,Ib as p,Jb as l,Kb as _,Ma as m,Ob as b,Pb as j,Qb as o,R as M,Rb as r,Ta as O,_a as S,ba as y,eb as g,fb as f,gb as x,jb as v,ka as w,la as E,nb as a,ob as n,pb as h,pc as F,sa as T,tb as B,uc as U,wb as R,yb as u,yd as q,zd as X}from"./chunk-UZSXHQNV.js";var ht=i=>[i],St=(i,s)=>[i,s];function gt(i,s){if(i&1){let t=B();a(0,"div",1)(1,"button",4),R("deleted",function(){w(t);let c=u(2);return E(c.onDeleted())}),p(2),o(3,"translate"),n(),a(4,"a",5),o(5,"localize"),p(6),o(7,"translate"),n()()}if(i&2){let t=u(2);e(),f("appPostDelete",t.dataSource.data().id),e(),_(" ",r(3,4,"uni.delete")," "),e(2),f("routerLink",b(10,ht,r(5,6,"/"+t.dataSource.data().id+"/"+t.ROUTE_DEFINITION.POSTS.EDIT))),e(2),l(r(7,8,"uni.edit"))}}function Pt(i,s){if(i&1&&(S(0,gt,8,12,"div",1),a(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),p(4),n(),a(5,"mat-card-title"),p(6),o(7,"uppercase"),n()(),a(8,"mat-card-content")(9,"p",2),p(10),o(11,"translate"),n(),a(12,"p"),p(13),n(),a(14,"p",2),p(15),o(16,"translate"),n(),h(17,"app-user-info",3),n()()),i&2){let t=u();v(t.dataSource.state()==="data"?0:-1),e(3),x("blur-sm",t.dataSource.state()==="loading"),e(),l("#"+t.dataSource.data().id),e(),x("blur-sm",t.dataSource.state()==="loading"),e(),l(r(7,18,t.dataSource.data().title)),e(3),x("blur-sm",t.dataSource.state()==="loading"),e(),_(" ",r(11,20,"post-detail.about-post")," "),e(2),x("blur-sm",t.dataSource.state()==="loading"),e(),_(" ",t.dataSource.data().body," "),e(),x("blur-sm",t.dataSource.state()==="loading"),e(),_(" ",r(16,22,"post-detail.about-author")," "),e(2),f("user",t.dataSource.data().user)("isLoading",t.dataSource.state()==="loading")}}function bt(i,s){if(i&1&&(a(0,"mat-card")(1,"mat-card-content",6),h(2,"mat-icon",7),o(3,"translate"),a(4,"div"),p(5),n()()()),i&2){let t=u();e(2),g("aria-label",r(3,2,"uni.aria-label.error-icon")),e(3),l(t.dataSource.error())}}function It(i,s){i&1&&(a(0,"mat-card")(1,"mat-card-content",6),h(2,"mat-icon",8),o(3,"translate"),a(4,"div"),p(5),o(6,"translate"),n()()()),i&2&&(e(2),g("aria-label",r(3,2,"uni.aria-label.warning-icon")),e(3),l(r(6,4,"error.post-was-not-found")))}function Dt(i,s){if(i&1&&(h(0,"mat-icon",10),o(1,"translate"),a(2,"a",5),o(3,"localize"),p(4),n()),i&2){let t=u(2);g("aria-label",r(1,3,"uni.aria-label.arrow-icon")),e(2),f("routerLink",j(7,St,r(3,5,"/"),t.dataSource.data().id)),e(2),l(t.dataSource.data().id)}}function Mt(i,s){if(i&1&&(a(0,"div",9)(1,"a",5),o(2,"localize"),p(3),o(4,"translate"),n(),S(5,Dt,5,10),n()),i&2){let t=u();e(),f("routerLink",b(7,ht,r(2,3,"/"))),e(2),l(r(4,5,"breadcrumbs.app.posts")),e(2),v(t.dataSource.state()==="data"?5:-1)}}var re=(()=>{class i{constructor(t,d,c,C,_t,Ct){this.apiService=t,this.route=d,this.translate=c,this.breadcrumbsPortalService=C,this.lr=_t,this.router=Ct,this.destroyRef=y(T),this.dataSource=new nt(I),this.ROUTE_DEFINITION=at}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){this.breadcrumbsPortalService.setPortal(this.portalContent),this.route.paramMap.pipe(D(500),xt(),vt(this.dataSource),ft(),M(t=>this.apiService.detailExpanded(Number(t))),A(this.destroyRef)).subscribe({next:t=>{this.dataSource.setData(t)},error:t=>{if(t instanceof U&&t.status>=400&&t.status<500)this.dataSource.setData(I);else{let d=this.translate.instant("error.unexpected-exception");this.dataSource.setError(d)}}})}onDeleted(){let t=this.lr.translateRoute("/");this.router.navigate([t])}static{this.\u0275fac=function(d){return new(d||i)(m(ot),m(G),m(W),m(it),m($),m(J))}}static{this.\u0275cmp=O({type:i,selectors:[["app-post-detail"]],viewQuery:function(d,c){if(d&1&&L(P,7),d&2){let C;N(C=k())&&(c.portalContent=C.first)}},decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],[1,"flex","items-end","justify-end","gap-2"],[1,"mb-2","font-semibold","text-md"],[3,"user","isLoading"],["mat-button","","color","accent",3,"deleted","appPostDelete"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(d,c){d&1&&S(0,Pt,18,24)(1,bt,6,4,"mat-card")(2,It,7,6,"mat-card")(3,Mt,6,9,"div",0),d&2&&(v(c.dataSource.state()==="data"||c.dataSource.state()==="loading"?0:-1),e(),v(c.dataSource.state()==="error"?1:-1),e(),v(c.dataSource.state()==="empty"?2:-1))},dependencies:[F,ut,pt,lt,mt,st,ct,X,q,H,V,Q,z,P,Z,Y,rt,K,et,tt,dt],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0})}}return i})();export{re as PostDetailComponent};
